#### [867. 转置矩阵](https://leetcode.cn/problems/transpose-matrix/)

难度简单

给你一个二维整数数组  `matrix`， 返回  `matrix`  的  **转置矩阵**  。

矩阵的  **转置**  是指将矩阵的主对角线翻转，交换矩阵的行索引与列索引。

![](https://assets.leetcode.com/uploads/2021/02/10/hint_transpose.png)

**示例 1：**
```
输入：matrix = [[1,2,3],[4,5,6],[7,8,9]]
输出：[[1,4,7],[2,5,8],[3,6,9]]
```
**示例 2：**
```
输入：matrix = [[1,2,3],[4,5,6]]
输出：[[1,4],[2,5],[3,6]]
```
**提示：**

-   `m == matrix.length`
-   `n == matrix[i].length`
-   `1 <= m, n <= 1000`
-   `1 <= m * n <= 10^5`
-   `-10^9  <= matrix[i][j] <= 10^9`

#### 方法1：直接复制
```c
/**
 * Return an array of arrays of size *returnSize.
 * The sizes of the arrays are returned as *returnColumnSizes array.
 * Note: Both returned array and *columnSizes array must be malloced, assume caller calls free().
 */
int** transpose(int** matrix, int matrixSize, int* matrixColSize, int* returnSize, int** returnColumnSizes){
    int r = matrixSize, c = matrixColSize[0];   //r和c代表原矩阵的行和列
    int **ret = malloc(sizeof(int*) * c);   //申请一个矩阵(二维数组)的内存,行数为c,首地址为ret,二维数组的类型为int **,二维数组中每个元素的类型为一级指针,即int *,对应sizeof(int *)这个表达式
    *returnColumnSizes = malloc(sizeof(int) * c);   //为这个矩阵的列申请一个数组来记录它每一行的列数,所以这个列数组的长度应该是行数c,由于需要作为参数返回给调用方,所以这里调用了一次解引用
    *returnSize = c;    //*returnSize是需要返回的矩阵的行数,调用者不知道这个功能返回的矩阵有多少行,需要实现者告诉他，同样调用一次解引用
    for (int i = 0; i < c; i++) {
        ret[i] = malloc(sizeof(int) * r);   //申请矩阵每一行的内存空间,每一行的长度为r,即列数
        (*returnColumnSizes)[i] = r;    //每一行的列数长度需要作为返回值返回,所以需要先解引用再索引到行号,即给(*returnColumnSizes)进行赋值
    }

    for (int i = 0; i < c; i++) {
        for (int j = 0; j < r; j++) {
            ret[i][j] = matrix[j][i];
        }
    }
    return ret;
}
```

```cpp
class Solution {
public:
    vector<vector<int>> transpose(vector<vector<int>>& matrix) {
        int rows = matrix.size();
        int columns = matrix[0].size();
        vector<vector<int>> ans(columns, vector<int>(rows));
        // 遍历二维向量
        for (int i = 0; i < rows; ++i) {
            for (int j = 0; j < columns; ++j) {
                ans[j][i] = matrix[i][j];
            }
        }
        return ans;
    }
};
```

Related Topics

[Array](https://leetcode.com/tag/array/) [Matrix](https://leetcode.com/tag/matrix/) [Simulation](https://leetcode.com/tag/simulation/)
